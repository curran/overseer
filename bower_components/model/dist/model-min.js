define("model/model",[],function(){function n(n){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,n()},0))}}function e(n){return!n.some(function(n){return"undefined"==typeof n||null===n})}return function(t){function r(t,r,o){var u=n(function(){var n=t.map(function(n){return m[n]});e(n)&&(s&&(a={}),r.apply(o,n),s&&s(t))});return u(),t.forEach(function(n){l[n]||(l[n]=[]),l[n].push(u)}),u}function o(n){p[n]||(p[n]=!0,m[n]=d[n],Object.defineProperty(d,n,{get:function(){return m[n]},set:function(e){a&&(a[n]=!0),m[n]=e,l[n]&&l[n].forEach(function(n){n()})}}))}function u(n,e,t){return n instanceof Array||(n=[n]),n.forEach(o),r(n,e,t)}function c(n){Object.keys(l).forEach(function(e){l[e]=l[e].filter(function(e){return e!==n})})}function f(n){Object.keys(n).forEach(function(e){d[e]=n[e]})}function i(n,e){function t(n){return o[n]||(o[n]={type:"property",name:n})}function r(n,e){return n.join(",")+"|"+e.join(",")}var o={},u=[];e=e||50,s=function(n){var e=Object.keys(a),c=r(n,e),f=o[c];!f&&e.length>0&&(f=o[c]={type:"lambda"},n.forEach(function(n){u.push({source:t(n),target:f})}),e.forEach(function(n){u.push({source:f,target:t(n)})}))},setTimeout(function(){n({nodes:Object.keys(o).map(function(n,e){var t=o[n];return t.index=e,t}),links:u.map(function(n){return{source:n.source.index,target:n.target.index}})})},e)}var a,s,d,l={},p={},m={};return d=Object.create({when:u,removeListener:c,set:f,detectFlowGraph:i}),t&&(Object.freeze(t),d.set(t),Object.defineProperty(d,"defaults",{value:t,writable:!1,configurable:!1,enumerable:!1})),d}}),define("model",["model/model"],function(n){return n});